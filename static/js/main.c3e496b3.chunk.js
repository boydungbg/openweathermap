(this["webpackJsonpopenwheathermap.co"]=this["webpackJsonpopenwheathermap.co"]||[]).push([[0],{40:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},47:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(31),r=a.n(i),s=(a(45),a(32)),l=a(9),o=a.n(l),m=a(14),d=a(33),u=a(34),h=a(10),p=a(39),v=a(38),y=(a(47),a(12)),f=a(11),E=a(35),g=a.n(E),w=a(2),N=a(37);function k(){var e=Object(s.a)(['\n          text-align: center;\n          height: 100%;\n          background-image: url("',"Image/",'");\n          background-position: left;\n          background-repeat: no-repeat;\n          background-size: cover;\n        ']);return k=function(){return e},e}var b=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={cityName:"",currentWeather:0,weatheres:"",cities:"",citiesFilter:"",active:[!0]},console.log(e.props),e.day=["Sun","Mon","Tue","Web","Thu","Fri","Sat"],e.handlerOnclick=e.handlerOnclick.bind(Object(h.a)(e)),e.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hanoi";return g()({method:"GET",url:"https://community-open-weather-map.p.rapidapi.com/forecast/daily",headers:{"content-type":"application/octet-stream","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com","x-rapidapi-key":"f54618c2bdmsh888d0abb30a786ep1c1462jsnd40ae44285b3",useQueryString:!0},params:{q:e,cnt:"16",units:"metric"}})},e.handlerOnSearchCity=e.handlerOnSearchCity.bind(Object(h.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch(this.props.location.pathname+"city.list.min.json").then((function(e){return e.json()})),this.getData().then((function(e){return e.data}))]).then((function(e){return e}));case 2:t=e.sent,this.setState({cities:t[0],weatheres:t[1]});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlerOnclick",value:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getData(this.state.cityName).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:a=e.sent,this.setState({cityName:"",weatheres:a,citiesFilter:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlerOnclickActiveDay",value:function(e,t){var a=this.state.weatheres.list.map((function(t){return e===t.dt}));this.setState({active:a,currentWeather:t})}},{key:"handlerOnSearchCity",value:function(e){var t=[];if(e.target.value){var a="^".concat(e.target.value.toLowerCase()),n=new RegExp(a);t=this.state.cities.filter((function(e){return(e.name+","+e.country).toLowerCase().match(n)}))}this.setState({citiesFilter:t.splice(0,10),cityName:e.target.value})}},{key:"onClickCitiSearch",value:function(){var e=Object(m.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.getData(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:a=e.sent,this.setState({cityName:"",weatheres:a,citiesFilter:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.cityName,a=this.state.weatheres,n=this.state.citiesFilter,i=this.state.currentWeather,r=this.state.active,s="";if(a)switch(a.list[i].weather[0].main){case"Clouds":s="few clouds"===a.list[i].weather[0].description||"broken clouds"===a.list[i].weather[0].description||"scattered clouds"===a.list[i].weather[0].description?"fewClouds.jpeg":"cloud.jpeg";break;case"Rain":s="light rain"===a.list[i].weather[0].description?"lightRain.jpg":"ModerateRain.jpg";break;case"Clear":s=1e3*a.list[i].sunset>Date.now()?"sunny.jpg":"skynight.jpg"}return c.a.createElement("div",{className:Object(N.a)(k(),this.props.location.pathname,s?"sunny.jpg":"")},c.a.createElement("div",{className:"bg-sunny-background"},c.a.createElement("ul",{className:"header"},c.a.createElement("li",null,c.a.createElement("form",null,c.a.createElement("input",{placeholder:"Search",type:"search",value:t,onChange:this.handlerOnSearchCity}),c.a.createElement("button",{onClick:this.handlerOnclick},c.a.createElement(f.a,{icon:y.d}))),c.a.createElement("ul",{className:"list-city"},n?n.map((function(t,a){return c.a.createElement("li",{key:a,onClick:function(){return e.onClickCitiSearch(t.name+","+t.country)}},t.name+","+t.country)})):""))),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"city-name"},a?a.city.name+", "+a.city.country:""),c.a.createElement("div",{className:"weather-content"},c.a.createElement("div",{className:"weather-icon"},c.a.createElement("img",{src:a?"https://openweathermap.org/img/wn/"+a.list[i].weather[0].icon+"@2x.png":""})),c.a.createElement("div",{className:"temp"},a?new Date(1e3*a.list[i].sunset)>new Date?Math.round(a.list[i].temp.morn):Math.round(a.list[i].temp.night):"","\xb0"),c.a.createElement("div",{className:"type-temp"},c.a.createElement("div",{className:"active"},"C"),c.a.createElement("div",{className:"in-active"},"F"))),c.a.createElement("div",{className:"weather-description"},a?a.list[i].weather[0].description:""),c.a.createElement("div",{className:"time-updated"},"Updated as of"," "+new Date(Date.now()).toLocaleTimeString("vn-VN",{hour:"2-digit",minute:"2-digit"})),c.a.createElement("div",{className:"weather-detail-1"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-title"},"Feels Like"),c.a.createElement("div",{className:"content-value"},a?Math.round(a.list[i].feels_like.day):"","\xb0")),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-title"},"Wind"),c.a.createElement("div",{className:"content-value"},c.a.createElement(f.a,{icon:y.c}),a?"   "+Math.round(3.6*a.list[i].speed)+"km/h":""))),c.a.createElement("div",{className:"weather-detail-1"},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-title"},"Barometer"),c.a.createElement("div",{className:"content-value"},a?Math.round(a.list[i].pressure):"","mb")),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content-title"},"Humidity"),c.a.createElement("div",{className:"content-value"},a?"  "+Math.round(a.list[i].humidity):"","%"))),c.a.createElement("div",{className:"daily"},c.a.createElement("div",{className:"title left"},"Daily"),c.a.createElement("div",{className:"forecast"},c.a.createElement("div",{className:"icon-scroll"},c.a.createElement(f.a,{className:"icon-daily-left",icon:y.a,id:"scroll-daily-left"})),c.a.createElement("div",{className:"forecast-daily",id:"forecast-daily-scroll"},a?a.list.map((function(t,a){return c.a.createElement("div",{className:"forecast-daily-day "+(r[a]?"active-day":""),key:a,onClick:function(n){e.handlerOnclickActiveDay(t.dt,a)}},c.a.createElement("div",{className:"content-daily-day"},e.day[new Date(1e3*t.dt).getDay()]+" "+new Date(1e3*t.dt).getDate()),c.a.createElement("img",{className:"Clouds"!==t.weather[0].main?"content-daily-icon-1":"content-daily-icon-2",src:"https://openweathermap.org/img/wn/"+t.weather[0].icon+".png"}),c.a.createElement("div",{className:"content-daily-temp"},c.a.createElement("div",{className:"daily-temp-max"},Math.round(t.temp.max),"\xb0"),c.a.createElement("div",{className:"daily-temp-min"},Math.round(t.temp.min),"\xb0")),c.a.createElement("div",{className:"daily-weather-des"},t.weather[0].description))})):""),c.a.createElement("div",{className:"icon-scroll"},c.a.createElement(f.a,{className:"icon-daily-right",id:"scroll-daily-right",icon:y.b})))))))}}]),a}(n.Component),j=Object(w.d)(b),O=a(16);r.a.render(c.a.createElement(O.a,null,c.a.createElement(j,null)),document.getElementById("root"));var C=document.getElementById("forecast-daily-scroll"),D=document.getElementById("scroll-daily-left"),S=document.getElementById("scroll-daily-right");D.addEventListener("click",(function(){C.scrollLeft-=screen.width*(2/3)})),S.addEventListener("click",(function(){C.scrollLeft+=screen.width*(2/3)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.c3e496b3.chunk.js.map